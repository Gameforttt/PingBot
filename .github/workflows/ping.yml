name: Keep Render Alive

on:
  schedule:
    - cron: '*/5 * * * *'
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Render (with retry)
        run: |
          for i in {1..5}; do
            echo "‚è≥ –ü–æ–ø—ã—Ç–∫–∞ $i..."
            if curl -s -o /dev/null -w "%{http_code}" https://fontan.onrender.com/ | grep -q "200"; then
              echo "‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–∑–±—É–∂–µ–Ω!"
              exit 0
            fi
            echo "üí§ –°–µ—Ä–≤–µ—Ä –µ—â—ë —Å–ø–∏—Ç, –∂–¥—ë–º 15 —Å–µ–∫—É–Ω–¥..."
            sleep 15
          done
          echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–±—É–¥–∏—Ç—å —Å–µ—Ä–≤–µ—Ä"
